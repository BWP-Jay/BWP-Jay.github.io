<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Fishin' in the Dark Unisex Dri-Fit - Premium fishing apparel for night fishing adventures. Available in orange and green colors.">
    <title>Fishin' in the Dark Unisex Dri-Fit - Back Water Pursuits</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: "#1a472a",
              'primary-dark': "#0d2315",
              accent: "#FFD700",
              'accent-dark': "#B8860B",
            },
          },
        },
      };
    </script>
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="preconnect" href="https://app.snipcart.com" />
    <link rel="preconnect" href="https://cdn.snipcart.com" />
    <link rel="stylesheet" href="https://cdn.snipcart.com/themes/v3.2.2/default/snipcart.css" />
    <style>
      /* Accessibility improvements */
      :focus {
        outline: 2px solid #1a472a;
        outline-offset: 2px;
      }
      
      .skip-link {
        position: absolute;
        top: -40px;
        left: 0;
        background: #1a472a;
        color: white;
        padding: 8px;
        z-index: 100;
      }
      
      .skip-link:focus {
        top: 0;
      }
      
      /* Improved contrast for text */
      .text-accent {
        color: #B8860B;
      }
      
      /* Focus styles for buttons */
      button:focus, 
      a:focus {
        outline: 2px solid #1a472a;
        outline-offset: 2px;
      }
      
      /* Focus styles for form elements */
      input:focus,
      select:focus,
      textarea:focus {
        outline: 2px solid #1a472a;
        outline-offset: 2px;
        border-color: #1a472a;
      }
      
      /* Product image focus styles */
      .product-image:focus {
        outline: 2px solid #1a472a;
        outline-offset: 4px;
      }
      
      /* Size selector focus styles */
      .size-btn:focus {
        outline: 2px solid #1a472a;
        outline-offset: 2px;
        border-color: #1a472a;
      }
      
      /* Color selector focus styles */
      .color-btn:focus {
        outline: 2px solid #1a472a;
        outline-offset: 2px;
        border-color: #1a472a;
      }
      
      /* Mobile-specific styles */
      @media (max-width: 768px) {
        .product-image {
          max-height: 70vh;
          object-fit: contain;
        }
        
        .thumbnail-image {
          height: 100px;
          object-fit: cover;
        }
        
        .size-btn, .color-btn {
          padding: 0.75rem;
          font-size: 1rem;
        }
        
        .cart-sidebar {
          width: 100%;
          max-width: 100%;
        }
      }
    </style>
    <script async src="https://cdn.snipcart.com/themes/v3.2.2/default/snipcart.js"></script>
    <div hidden id="snipcart" data-api-key="OThmODU0MjItZWYzMy00ZmI3LTg0NzItOWE1MGFmODQwYWU3NjM4ODA0MDgyNjI3MzA0NDkx" data-config-sandbox="true"></div>
    <script src="../js/product.js"></script>
</head>
<body class="bg-gray-100 min-h-screen overflow-y-auto overflow-x-hidden">
    <!-- Skip Link for Keyboard Navigation -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <!-- Navigation -->
    <header class="fixed w-full bg-primary text-accent shadow-md z-50" role="banner">
        <nav class="container mx-auto px-4 py-4 flex justify-between items-center" role="navigation" aria-label="Main navigation">
            <a href="../index.html" class="flex items-center gap-2" aria-label="Back Water Pursuits Home">
                <img src="../images/products/logo.jpg" alt="Back Water Pursuits Logo" class="h-10 w-auto" width="40" height="40" />
                <h1 class="text-2xl font-bold">BACK WATER PURSUITS</h1>
            </a>
            <ul class="hidden md:flex gap-6 text-white font-medium" role="menubar">
                <li role="none"><a href="../index.html#home" class="hover:text-accent transition-colors duration-300" role="menuitem">Home</a></li>
                <li role="none"><a href="../all-products.html" class="hover:text-accent transition-colors duration-300" role="menuitem">Shop</a></li>
                <li role="none"><a href="../index.html#about" class="hover:text-accent transition-colors duration-300" role="menuitem">About</a></li>
                <li role="none"><a href="../index.html#contact" class="hover:text-accent transition-colors duration-300" role="menuitem">Contact</a></li>
            </ul>
            <button class="snipcart-checkout text-white hover:text-accent transition-colors duration-300 flex items-center" aria-label="View cart">
                <i class="fas fa-shopping-cart text-xl mr-1"></i>
                <span class="snipcart-items-count">0</span>
            </button>
        </nav>
    </header>

    <!-- Main Content -->
    <main id="main-content" tabindex="-1" class="pt-20 pb-12">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Product Images -->
                <div class="space-y-4" role="region" aria-label="Product images">
                    <div class="bg-white rounded-lg shadow-md overflow-hidden">
                        <img src="../images/products/fishin-dark/orange/fishin-dark-front.jpg" 
                             alt="Fishin' in the Dark Unisex Dri-Fit - Front View" 
                             class="w-full h-auto product-image cursor-zoom-in"
                             id="mainImage">
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <button onclick="changeImage('../images/products/fishin-dark/orange/fishin-dark-front.jpg')" 
                                class="bg-white rounded-lg shadow-md overflow-hidden focus:outline-none"
                                aria-label="View front of shirt">
                            <img src="../images/products/fishin-dark/orange/fishin-dark-front.jpg" 
                                 alt="Fishin' in the Dark Unisex Dri-Fit - Front View Thumbnail" 
                                 class="w-full h-auto thumbnail-image">
                        </button>
                        <button onclick="changeImage('back')"
                                class="bg-white rounded-lg shadow-md overflow-hidden focus:outline-none"
                                aria-label="View back of shirt">
                            <img src="../images/products/fishin-dark/orange/fishin-dark-back.jpg" 
                                 alt="Fishin' in the Dark Unisex Dri-Fit - Back View Thumbnail" 
                                 class="w-full h-auto thumbnail-image">
                        </button>
                    </div>
                </div>

                <!-- Product Info -->
                <div class="bg-white rounded-lg shadow-md p-6" role="region" aria-label="Product information">
                    <h1 class="text-3xl font-bold text-primary mb-4">Fishin' in the Dark Unisex Dri-Fit</h1>
                    <p class="text-2xl text-accent font-bold mb-6">$26.00</p>
                    
                    <div class="mb-6">
                        <h2 class="text-lg font-bold text-primary mb-2">Description</h2>
                        <p class="text-gray-600">A stylish and comfortable Dri-Fit shirt perfect for night fishing adventures. Available in two colorways: orange and green.</p>
                    </div>

                    <div class="mb-6">
                        <h2 class="text-lg font-bold text-primary mb-2">Features</h2>
                        <ul class="list-disc list-inside text-gray-600 space-y-2">
                            <li>100% Polyester Dri-Fit material</li>
                            <li>Moisture-wicking technology</li>
                            <li>UV protection</li>
                            <li>Comfortable fit</li>
                            <li>Available in Orange and Green</li>
                        </ul>
                    </div>

                    <div class="mb-6">
                        <h2 class="text-lg font-bold text-primary mb-2">Select Color</h2>
                        <div class="grid grid-cols-2 gap-2">
                            <button onclick="changeColor('orange')" 
                                    class="color-btn border-2 border-orange-500 px-4 py-2 rounded hover:border-primary hover:text-primary"
                                    aria-label="Select orange color">
                                Orange
                            </button>
                            <button onclick="changeColor('green')" 
                                    class="color-btn border-2 border-green-500 px-4 py-2 rounded hover:border-primary hover:text-primary"
                                    aria-label="Select green color">
                                Green
                            </button>
                        </div>
                    </div>

                    <div class="mb-6">
                        <h2 class="text-lg font-bold text-primary mb-2">Select Size</h2>
                        <div class="grid grid-cols-5 gap-2">
                            <button onclick="selectSize('S')" 
                                    class="size-btn border-2 border-gray-300 px-4 py-2 rounded hover:border-primary hover:text-primary"
                                    aria-label="Select small size">
                                S
                            </button>
                            <button onclick="selectSize('M')" 
                                    class="size-btn border-2 border-gray-300 px-4 py-2 rounded hover:border-primary hover:text-primary"
                                    aria-label="Select medium size">
                                M
                            </button>
                            <button onclick="selectSize('L')" 
                                    class="size-btn border-2 border-gray-300 px-4 py-2 rounded hover:border-primary hover:text-primary"
                                    aria-label="Select large size">
                                L
                            </button>
                            <button onclick="selectSize('XL')" 
                                    class="size-btn border-2 border-gray-300 px-4 py-2 rounded hover:border-primary hover:text-primary"
                                    aria-label="Select extra large size">
                                XL
                            </button>
                            <button onclick="selectSize('2XL')" 
                                    class="size-btn border-2 border-gray-300 px-4 py-2 rounded hover:border-primary hover:text-primary"
                                    aria-label="Select 2XL size">
                                2XL
                            </button>
                        </div>
                    </div>

                    <button class="snipcart-add-item w-full bg-primary text-white py-3 px-6 rounded-lg hover:bg-green-700 transition-colors duration-300"
                            data-item-id="fishin-dark-orange"
                            data-item-price="26.00"
                            data-item-url="/products/fishin-dark.html"
                            data-item-description="Premium fishing t-shirt with glow-in-the-dark design"
                            data-item-image="../images/products/fishin-dark/orange/fishin-dark-front.jpg"
                            data-item-name="Fishin' in the Dark Unisex Dri-Fit"
                            data-item-custom1-name="Size"
                            data-item-custom1-options="S|M|L|XL|2XL"
                            data-item-custom1-value="M"
                            data-item-custom2-name="Color"
                            data-item-custom2-options="Orange|Green"
                            data-item-custom2-value="Orange">
                        Add to Cart
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Newsletter Section -->
    <section class="bg-accent text-primary py-16 px-4 mt-12" aria-labelledby="newsletter-heading">
        <div class="max-w-3xl mx-auto text-center">
            <h2 id="newsletter-heading" class="text-3xl font-bold mb-6">Stay Connected</h2>
            <p class="text-lg mb-8">Subscribe to our newsletter for exclusive offers, new product announcements, and fishing tips!</p>
            <form id="newsletter-form" class="newsletter-form max-w-md mx-auto" role="form" aria-label="Newsletter subscription">
                <div class="flex flex-col gap-4">
                    <div class="relative">
                        <input type="email" 
                               id="newsletter-email" 
                               placeholder="Enter your email here" 
                               class="w-full px-4 py-3 rounded-lg border-2 border-primary focus:outline-none focus:ring-2 focus:ring-primary text-gray-800" 
                               required 
                               aria-label="Email address"
                               pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$">
                        <div id="email-error" class="absolute left-0 -bottom-6 text-red-600 text-sm hidden" role="alert"></div>
                    </div>
                    <button type="submit" 
                            class="bg-primary text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary" 
                            aria-label="Subscribe to newsletter">
                        Subscribe
                    </button>
                </div>
            </form>
            <p id="success-message" class="mt-4 text-green-700 hidden">Thank you for subscribing! Check your email to confirm your subscription.</p>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-primary text-accent text-center py-6" role="contentinfo">
        <div class="container mx-auto px-4">
            <p>&copy; 2024 Back Water Pursuits. All rights reserved.</p>
            <nav class="mt-4" aria-label="Footer navigation">
                <ul class="flex justify-center gap-6">
                    <li><a href="../privacy-policy.html" class="hover:text-white transition-colors duration-300">Privacy Policy</a></li>
                    <li><a href="../terms.html" class="hover:text-white transition-colors duration-300">Terms of Service</a></li>
                    <li><a href="../shipping.html" class="hover:text-white transition-colors duration-300">Shipping Info</a></li>
                </ul>
            </nav>
        </div>
    </footer>

    <script src="../script.js"></script>
    <script src="../js/image-gallery.js"></script>
    <script>
        let selectedColor = 'orange';
        let selectedSize = 'M'; // Set default size

        function changeImage(src) {
            const mainImage = document.getElementById('mainImage');
            if (src.includes('back')) {
                mainImage.src = `../images/products/fishin-dark/${selectedColor}/fishin-dark-back.jpg`;
                mainImage.alt = `Fishin' in the Dark Unisex Dri-Fit - Back View`;
            } else {
                mainImage.src = src;
                mainImage.alt = `Fishin' in the Dark Unisex Dri-Fit - Front View`;
            }
        }

        function changeColor(color) {
            selectedColor = color;
            const mainImage = document.getElementById('mainImage');
            const thumbnails = document.querySelectorAll('.thumbnail-image');
            
            // Update main image and thumbnails
            mainImage.src = `../images/products/fishin-dark/${color}/fishin-dark-front.jpg`;
            thumbnails[0].src = `../images/products/fishin-dark/${color}/fishin-dark-front.jpg`;
            thumbnails[1].src = `../images/products/fishin-dark/${color}/fishin-dark-back.jpg`;
            
            // Update button styles
            document.querySelectorAll('.color-btn').forEach(btn => {
                btn.classList.remove('border-2', 'border-primary');
            });
            event.target.classList.add('border-2', 'border-primary');
            
            // If the back image is currently displayed, update it to match the new color
            if (mainImage.src.includes('back')) {
                mainImage.src = `../images/products/fishin-dark/${color}/fishin-dark-back.jpg`;
            }

            // Update Snipcart button data
            updateSnipcartButton();
        }

        function selectSize(size) {
            selectedSize = size;
            document.querySelectorAll('.size-btn').forEach(btn => {
                btn.classList.remove('border-2', 'border-primary');
            });
            event.target.classList.add('border-2', 'border-primary');

            // Update Snipcart button data
            updateSnipcartButton();
        }

        function updateSnipcartButton() {
            const button = document.querySelector('.snipcart-add-item');
            if (button) {
                button.setAttribute('data-item-id', `fishin-dark-${selectedColor}-${selectedSize}`);
                button.setAttribute('data-item-custom1-value', selectedSize); // Size first
                button.setAttribute('data-item-custom2-value', selectedColor); // Color second
                button.setAttribute('data-item-image', `../images/products/fishin-dark/${selectedColor}/fishin-dark-front.jpg`);
            }
        }

        // Initialize the page with default selections
        document.addEventListener('DOMContentLoaded', function() {
            // Set default size button as selected
            const defaultSizeBtn = document.querySelector('.size-btn[onclick*="M"]');
            if (defaultSizeBtn) {
                defaultSizeBtn.classList.add('border-2', 'border-primary');
            }
            
            // Set default color button as selected
            const defaultColorBtn = document.querySelector('.color-btn[onclick*="orange"]');
            if (defaultColorBtn) {
                defaultColorBtn.classList.add('border-2', 'border-primary');
            }
            
            // Initialize Snipcart button
            updateSnipcartButton();
        });

        // Newsletter Form Validation and Submission
        document.getElementById('newsletter-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const emailInput = document.getElementById('newsletter-email');
            const errorDiv = document.getElementById('email-error');
            const successMessage = document.getElementById('success-message');
            
            // Basic email validation
            const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
            if (!emailPattern.test(emailInput.value)) {
                errorDiv.textContent = 'Please enter a valid email address';
                errorDiv.classList.remove('hidden');
                emailInput.setAttribute('aria-invalid', 'true');
                return;
            }

            // Clear any previous error
            errorDiv.classList.add('hidden');
            emailInput.setAttribute('aria-invalid', 'false');

            // Simulate form submission (replace with actual API call)
            successMessage.classList.remove('hidden');
            emailInput.value = '';

            // Hide success message after 5 seconds
            setTimeout(() => {
                successMessage.classList.add('hidden');
            }, 5000);
        });
    </script>
</body>
</html> 